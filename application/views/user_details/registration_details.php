<!--<div class="content-wrapper" style="margin-top: 55px;min-height: 580.08px !important;">-->
<!-- Main content -->
<section class="content">
    <div class="row">

        <div class="col-lg-4 col-6">
            <!-- small box -->
            <div class="small-box" style="background: transparent;">
                <div class="inner">
                    <h3><?= $all_users; ?></h3>

                    <p style="color:black">Total Users</p>
                </div>
                <!-- <div class="icon">
                    <i class="ion ion-person"></i>
                </div> -->
                <!-- <a href="#" class="small-box-footer"><?= trans('more_info') ?> <i class="fa fa-arrow-circle-right"></i></a> -->
            </div>
        </div>
        <!-- ./col -->
        <div class="col-lg-4 col-6">
            <!-- small box -->
            <div class="small-box" style="background: transparent;">
                <div class="inner">
                    <h3><?= $serving_user; ?></h3>

                    <p style="color:black">Total Serving Users</p>
                </div>
                <!-- <div class="icon">
                    <i class="ion ion-person-add"></i>
                </div> -->
                <!-- <a href="#" class="small-box-footer"><?= trans('more_info') ?> <i class="fa fa-arrow-circle-right"></i></a> -->
            </div>
        </div>
        <!-- ./col -->
        <div class="col-lg-4 col-6">
            <!-- small box -->
            <div class="small-box" style="background: transparent;">
                <div class="inner">
                    <h3><?= $registered_serving; ?></h3>

                    <p style="color:black">Total Registered Serving Users</p>
                </div>
                <!-- <div class="icon">
                    <i class="ion ion-bookmark"></i>
                </div> -->
                <!-- <a href="#" class="small-box-footer"><?= trans('more_info') ?> <i class="fa fa-arrow-circle-right"></i></a> -->
            </div>
        </div>
    </div>
    <div class="row">

        <div class="col-lg-4 col-6">
            <!-- small box -->
            <div class="small-box" style="background: transparent;">
                <div class="inner">
                    <h3><?= $retired_user; ?></h3>

                    <p style="color:black">Total Retired Users</p>
                </div>
                <!-- <div class="icon">
                    <i class="ion ion-person"></i>
                </div> -->
                <!-- <a href="#" class="small-box-footer"><?= trans('more_info') ?> <i class="fa fa-arrow-circle-right"></i></a> -->
            </div>
        </div>
        <!-- ./col -->
        <div class="col-lg-4 col-6">
            <!-- small box -->
            <div class="small-box" style="background: transparent;">
                <div class="inner">
                    <h3><?= $approved; ?></h3>

                    <p style="color:black">Total Verified Retired Users</p>
                </div>
                <!-- <div class="icon">
                    <i class="ion ion-person-add"></i>
                </div> -->
                <!-- <a href="#" class="small-box-footer"><?= trans('more_info') ?> <i class="fa fa-arrow-circle-right"></i></a> -->
            </div>
        </div>
        <!-- ./col -->
        <div class="col-lg-4 col-6">
            <!-- small box -->
            <div class="small-box" style="background: transparent;">
                <div class="inner">
                    <h3><?= $registered; ?></h3>

                    <p style="color:black">Total Registered Retired Users</p>
                </div>
                <!-- <div class="icon">
                    <i class="ion ion-bookmark"></i>
                </div> -->
                <!-- <a href="#" class="small-box-footer"><?= trans('more_info') ?> <i class="fa fa-arrow-circle-right"></i></a> -->
            </div>
        </div>
    </div>
    <div class="row">

        <div class="col-lg-4 col-6">
            <!-- small box -->
            <div class="small-box" style="background: transparent;">
                <div class="inner">
                    <h3><?= $all_entities; ?></h3>

                    <p style="color:black">Total Entities</p>
                </div>
                <!-- <div class="icon">
                    <i class="ion ion-person"></i>
                </div> -->
                <!-- <a href="#" class="small-box-footer"><?= trans('more_info') ?> <i class="fa fa-arrow-circle-right"></i></a> -->
            </div>
        </div>
        <!-- ./col -->
        <div class="col-lg-4 col-6">
            <!-- small box -->
            <div class="small-box" style="background: transparent;">
                <div class="inner">
                    <h3><?= $all_canteen; ?></h3>

                    <p style="color:black">Total Canteen</p>
                </div>
                <!-- <div class="icon">
                    <i class="ion ion-person-add"></i>
                </div> -->
                <!-- <a href="#" class="small-box-footer"><?= trans('more_info') ?> <i class="fa fa-arrow-circle-right"></i></a> -->
            </div>
        </div>
        <!-- ./col -->
        <div class="col-lg-4 col-6">
            <!-- small box -->
            <div class="small-box" style="background: transparent;">
                <div class="inner">
                    <h3><?= $all_stockist; ?></h3>

                    <p style="color:black">Total Stockist</p>
                </div>
                <!-- <div class="icon">
                    <i class="ion ion-bookmark"></i>
                </div> -->
                <!-- <a href="#" class="small-box-footer"><?= trans('more_info') ?> <i class="fa fa-arrow-circle-right"></i></a> -->
            </div>
        </div>
    </div>
    <div class="row">

        <div class="col-lg-4 col-6">
            <!-- small box -->
            <div class="small-box" style="background: transparent;">
                <div class="inner">
                    <h3><?= $entities_started_sale; ?></h3>

                    <p style="color:black">Total Entities Started Sale</p>
                </div>
                <!-- <div class="icon">
                    <i class="ion ion-person"></i>
                </div> -->
                <!-- <a href="#" class="small-box-footer"><?= trans('more_info') ?> <i class="fa fa-arrow-circle-right"></i></a> -->
            </div>
        </div>
        <!-- ./col -->
        <div class="col-lg-4 col-6">
            <!-- small box -->
            <div class="small-box"style="background: transparent;">
                <div class="inner">
                    <h3><?= $canteen_started_sale; ?></h3>

                    <p style="color:black">Total Canteen Started Sale</p>
                </div>
                <!-- <div class="icon">
                    <i class="ion ion-person-add"></i>
                </div> -->
                <!-- <a href="#" class="small-box-footer"><?= trans('more_info') ?> <i class="fa fa-arrow-circle-right"></i></a> -->
            </div>
        </div>
        <!-- ./col -->
        <div class="col-lg-4 col-6">
            <!-- small box -->
            <div class="small-box" style="background: transparent;">
                <div class="inner">
                    <h3><?= $stockist_started_sale; ?></h3>

                    <p style="color:black">Total Stockist Started Sale</p>
                </div>
                <!-- <div class="icon">
                    <i class="ion ion-bookmark"></i>
                </div> -->
                <!-- <a href="#" class="small-box-footer"><?= trans('more_info') ?> <i class="fa fa-arrow-circle-right"></i></a> -->
            </div>
        </div>
    </div>
    <div class="row">

        <div class="col-lg-4 col-6">
            <!-- small box -->
            <div class="small-box" style="background: transparent;">
                <div class="inner">
                    <h3><?= $entities_right_given; ?></h3>

                    <p style="color:black">Total Entities Rights Given</p>
                </div>
                <!-- <div class="icon">
                    <i class="ion ion-person"></i>
                </div> -->
                <!-- <a href="#" class="small-box-footer"><?= trans('more_info') ?> <i class="fa fa-arrow-circle-right"></i></a> -->
            </div>
        </div>
        <!-- ./col -->
        <div class="col-lg-4 col-6">
            <!-- small box -->
            <div class="small-box" style="background: transparent;">
                <div class="inner">
                    <h3><?= $canteen_right_given; ?></h3>

                    <p style="color:black">Total Canteen Rights Given</p>
                </div>
                <!-- <div class="icon">
                    <i class="ion ion-person-add"></i>
                </div> -->
                <!-- <a href="#" class="small-box-footer"><?= trans('more_info') ?> <i class="fa fa-arrow-circle-right"></i></a> -->
            </div>
        </div>
        <!-- ./col -->
        <div class="col-lg-4 col-6">
            <!-- small box -->
            <div class="small-box" style="background: transparent;">
                <div class="inner">
                    <h3><?= $stockist_right_given; ?></h3>

                    <p style="color:black">Total Stockist Rights Given</p>
                </div>
                <!-- <div class="icon">
                    <i class="ion ion-bookmark"></i>
                </div> -->
                <!-- <a href="#" class="small-box-footer"><?= trans('more_info') ?> <i class="fa fa-arrow-circle-right"></i></a> -->
            </div>
        </div>
    </div>
    <div class="row">

        <div class="col-lg-4 col-6">
            <!-- small box -->
            <div class="small-box" style="background: transparent;">
                <div class="inner">
                    <h3><?= $entities_right_not_given; ?></h3>

                    <p style="color:black">Total Entities Rights Not Given</p>
                </div>
                <!-- <div class="icon">
                    <i class="ion ion-person"></i>
                </div> -->
                <!-- <a href="#" class="small-box-footer"><?= trans('more_info') ?> <i class="fa fa-arrow-circle-right"></i></a> -->
            </div>
        </div>
        <!-- ./col -->
        <div class="col-lg-4 col-6">
            <!-- small box -->
            <div class="small-box" style="background: transparent;">
                <div class="inner">
                    <h3><?= $canteen_right_not_given; ?></h3>

                    <p style="color:black">Total Canteen Rights Not Given</p>
                </div>
                <!-- <div class="icon">
                    <i class="ion ion-person-add"></i>
                </div> -->
                <!-- <a href="#" class="small-box-footer"><?= trans('more_info') ?> <i class="fa fa-arrow-circle-right"></i></a> -->
            </div>
        </div>
        <!-- ./col -->
        <div class="col-lg-4 col-6">
            <!-- small box -->
            <div class="small-box" style="background: transparent;">
                <div class="inner">
                    <h3><?= $stockist_right_not_given; ?></h3>

                    <p style="color:black">Total Stockist Rights Not Given</p>
                </div>
                <!-- <div class="icon">
                    <i class="ion ion-bookmark"></i>
                </div> -->
                <!-- <a href="#" class="small-box-footer"><?= trans('more_info') ?> <i class="fa fa-arrow-circle-right"></i></a> -->
            </div>
        </div>
    </div>
    <div class="row">

        <div class="col-lg-4 col-6">
            <!-- small box -->
            <div class="small-box" style="background: transparent;">
                <div class="inner">
                    <h3><?= $entities_liquor_added; ?></h3>

                    <p style="color:black">Total Entities Liquor Added</p>
                </div>
                <!-- <div class="icon">
                    <i class="ion ion-person"></i>
                </div> -->
                <!-- <a href="#" class="small-box-footer"><?= trans('more_info') ?> <i class="fa fa-arrow-circle-right"></i></a> -->
            </div>
        </div>
        <!-- ./col -->
        <div class="col-lg-4 col-6">
            <!-- small box -->
            <div class="small-box" style="background: transparent;">
                <div class="inner">
                    <h3><?= $canteen_liquor_added; ?></h3>

                    <p style="color:black">Total Canteen Liquor Added</p>
                </div>
                <!-- <div class="icon">
                    <i class="ion ion-person-add"></i>
                </div> -->
                <!-- <a href="#" class="small-box-footer"><?= trans('more_info') ?> <i class="fa fa-arrow-circle-right"></i></a> -->
            </div>
        </div>
        <!-- ./col -->
        <div class="col-lg-4 col-6">
            <!-- small box -->
            <div class="small-box" style="background: transparent;">
                <div class="inner">
                    <h3><?= $stockist_liquor_added; ?></h3>

                    <p style="color:black">Total Stockist Liquor Added</p>
                </div>
                <!-- <div class="icon">
                    <i class="ion ion-bookmark"></i>
                </div> -->
                <!-- <a href="#" class="small-box-footer"><?= trans('more_info') ?> <i class="fa fa-arrow-circle-right"></i></a> -->
            </div>
        </div>
    </div>
</section>
<link rel="stylesheet" href="<?= base_url() ?>assets/plugins/datatables/dataTables.bootstrap4.css">
<script src="<?= base_url() ?>assets/plugins/datatables/jquery.dataTables.js"></script>
<script src="<?= base_url() ?>assets/plugins/datatables/dataTables.bootstrap4.js"></script>
<script rel="stylesheet" src="<?= base_url() ?>assets/plugins/datatablesbtn/jquery-3.5.1.js"></script>
<script src="<?= base_url() ?>assets/plugins/datatablesbtn/jquery.dataTables.min.js" defer></script>
<script src="<?= base_url() ?>assets/plugins/datatablesbtn/dataTables.bootstrap4.min.js" defer></script>
<script src="<?= base_url() ?>assets/plugins/datatablesbtn/dataTables.buttons.min.js" defer></script>
<script src="<?= base_url() ?>assets/plugins/datatablesbtn/jszip.min.js"></script>
<script src="<?= base_url() ?>assets/plugins/datatablesbtn/pdfmake.min.js"></script>
<script src="<?= base_url() ?>assets/plugins/datatablesbtn/vfs_fonts.js"></script>
<script src="<?= base_url() ?>assets/plugins/datatablesbtn/buttons.html5.min.js" defer></script>
<link href="<?= base_url() ?>assets/plugins/select2/select2.css" rel="stylesheet">
<script src="<?= base_url() ?>assets/plugins/select2/select2.js" defer></script>
<script>
    var csrfName = '<?php echo $this->security->get_csrf_token_name(); ?>';
    var csrfHash = '<?php echo $this->security->get_csrf_hash(); ?>';
    var baseurl = "<?php echo base_url(); ?>";
</script>
<!--</div>-->



<script>
    $(function() {
        $("#canteen").select2({
            createTag: function(term, data) {
                var value = term.term;
                return {
                    id: value,
                    text: value
                };
            },
            placeholder: "Select Canteen",
            ajax: {
                url: baseurl + 'user_details/User_details/GetCanteenName',
                dataType: 'json',
                delay: 250,
                data: function(params) {
                    return {
                        q: params.term // search term
                    };
                },
                processResults: function(data, params) {

                    var resData = [];
                    data.forEach(function(value) {
                        if (value.option_data.toUpperCase().indexOf(params.term.toUpperCase()) != -1)
                            resData.push(value)
                    })
                    return {
                        results: $.map(resData, function(item) {
                            return {
                                text: item.option_data,
                                id: item.id
                            }
                        })
                    };
                },
                cache: true
            },
            minimumInputLength: 4

        });

    })

    function retiree() {
        var report_type = document.getElementById("retiree_report").value;
        // var strUser = report_type.value;
        if (report_type == 0) {
            swal("Please Select Status Type");
            return false;
        }
        // console.log(report_type);
        $.ajax({
            url: DOMAIN + "user_details/User_details/getRetireeData",
            dataType: 'html',
            data: {
                report_type: report_type,
                csrf_test_name: csrfHash,
                // csrfName: csrfName
            },
            method: 'POST',
            success: function(response) {
                // console.log(response);
                $('#tableView').html(response);
            },
            error: function(error) {
                console.log(error);
            }
        });
        // $.ajax({
        //     method:"POST",
        //     url: "<?php echo base_url(); ?>/canteenMaster/getCanteenData",
        //     data:{report_type:report_type,csrfHash:csrfHash},
        //     success:function(response){},
        //     error:function(error){}


        // }); 


    }

    function retiree_canteen() {
        var report_type = document.getElementById("retiree_canteen_report").value;
        var entity_id = document.getElementById("canteen").value;
        // var strUser = report_type.value;
        if (report_type == 0) {
            swal("Please Select Status Type");
            return false;
        }
        if(entity_id == ""){
            swal("Please Select Canteen");
            return false;
        }
        // console.log(report_type);
        $.ajax({
            url: DOMAIN + "user_details/User_details/getRetireeCanteenData",
            dataType: 'html',
            data: {
                report_type: report_type,
                entity_id:entity_id,
                csrf_test_name: csrfHash,
                // csrfName: csrfName
            },
            method: 'POST',
            success: function(response) {
                // console.log(response);
                $('#canteenTableView').html(response);
            },
            error: function(error) {
                console.log(error);
            }
        });
        // $.ajax({
        //     method:"POST",
        //     url: "<?php echo base_url(); ?>/canteenMaster/getCanteenData",
        //     data:{report_type:report_type,csrfHash:csrfHash},
        //     success:function(response){},
        //     error:function(error){}


        // }); 


    }
</script>